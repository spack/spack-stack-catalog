# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
spack:
  # add package specs to the `specs` list
  specs:
  - xsdk~dealii@0.8.0+cuda cuda_arch=70 ^netlib-lapack ^spectrum-mpi@10.4.0.3 ^hiop+shared
    ^python@3.8
  view: true
  concretizer:
    unify: false
  compilers:
  - compiler:
      spec: gcc@8.3.1
      paths:
        cc: /usr/bin/gcc
        cxx: /usr/bin/g++
        f77: /usr/bin/gfortran
        fc: /usr/bin/gfortran
      flags: {}
      operating_system: rhel8
      target: ppc64le
      modules: []
      environment: {}
      extra_rpaths: []
  packages:
    python:
      externals:
      - spec: python@3.8
        modules:
        - python/3.8-anaconda3
      buildable: false
    py-numpy:
      externals:
      - spec: py-numpy@1.18.5
        modules:
        - python/3.8-anaconda3
      buildable: false
    py-pip:
      externals:
      - spec: py-pip@20.1.1
        modules:
        - python/3.8-anaconda3
      buildable: false
    py-setuptools:
      externals:
      - spec: py-setuptools@49.2.0
        modules:
        - python/3.8-anaconda3
      buildable: false
    autoconf:
      externals:
      - spec: autoconf@2.69
        modules:
        - autoconf/2.69
      buildable: false
    automake:
      externals:
      - spec: automake@1.16.1
        prefix: /usr
      - spec: automake@1.16.2
        modules:
        - automake/1.16.2
      buildable: false
    bash:
      externals:
      - spec: bash@4.4.19
        prefix: /usr
    blaspp:
      externals:
      - spec: blaspp@2020.10.02 cuda=true
        modules:
        - blaspp/2020.10.02
      - spec: blaspp@2021.04.01-cpu cuda=false
        modules:
        - blaspp/2021.04.01-cpu
      - spec: blaspp@2021.04.01 cuda=true
        modules:
        - blaspp/2021.04.01
    cuda:
      externals:
      - spec: cuda@10.1.168
        modules:
        - cuda/10.1.168
      - spec: cuda@10.1.243
        modules:
        - cuda/10.1.243
      - spec: cuda@10.2.89
        modules:
        - cuda/10.2.89
      - spec: cuda@11.0.2
        modules:
        - cuda/11.0.2
      - spec: cuda@11.0.3
        modules:
        - cuda/11.0.3
      - spec: cuda@11.1.1
        modules:
        - cuda/11.1.1
      - spec: cuda@11.3.1
        modules:
        - cuda/11.3.1
      - spec: cuda@11.4.0
        modules:
        - cuda/11.4.0
      - spec: cuda@11.4.2
        modules:
        - cuda/11.4.2
    lapackpp:
      externals:
      - spec: lapackpp@2020.10.02^blaspp+cuda
        modules:
        - lapackpp/2020.10.02
      - spec: lapackpp@2021.04.00^blaspp~cuda
        modules:
        - lapackpp/2021.04.00-cpu
      - spec: lapackpp@2021.04.00^blaspp+cuda
        modules:
        - lapackpp/2021.04.00
    bison:
      externals:
      - spec: bison@3.0.4
        prefix: /usr
    boost:
      externals:
      - spec: boost@1.74.0
        modules:
        - boost/1.74.0
      - spec: boost@1.76.0
        modules:
        - boost/1.76.0
    bzip2:
      externals:
      - spec: bzip2@1.0.6
        prefix: /usr
    cpio:
      externals:
      - spec: cpio@2.12
        prefix: /usr
    diffutils:
      externals:
      - spec: diffutils@3.6
        prefix: /usr
    fftw:
      externals:
      - spec: fftw@3.3.9
        modules:
        - fftw/3.3.9
    file:
      externals:
      - spec: file@5.33
        prefix: /usr
    findutils:
      externals:
      - spec: findutils@4.6.0
        prefix: /usr
    flex:
      externals:
      - spec: flex@2.6.1+lex
        prefix: /usr
    gawk:
      externals:
      - spec: gawk@4.2.1
        prefix: /usr
    ghostscript:
      externals:
      - spec: ghostscript@9.25
        prefix: /usr
    git:
      externals:
      - spec: git@2.18.4~tcltk
        prefix: /usr
    gmake:
      externals:
      - spec: gmake@4.2.1
        prefix: /usr
    groff:
      externals:
      - spec: groff@1.22.3
        prefix: /usr
    openjdk:
      externals:
      - spec: openjdk@1.8.0_272-b10
        prefix: /usr
    krb5:
      externals:
      - spec: krb5@1.17
        prefix: /usr
    libtool:
      externals:
      - spec: libtool@2.4.6
        prefix: /usr
    m4:
      externals:
      - spec: m4@1.4.18
        prefix: /usr
    ncurses:
      externals:
      - spec: ncurses@6.1.20180224+termlib abi=6
        prefix: /usr
    suite-sparse:
      externals:
      - spec: suite-sparse@5.8.1
        modules:
        - suite-sparse/5.8.1
      - spec: suite-sparse@5.9.0
        modules:
        - suite-sparse/5.9.0
    spectrum-mpi:
      externals:
      - spec: spectrum-mpi@10.4.0.03rtm4%xl@16.1
        prefix: /sw/summit/spack-envs/base/opt/linux-rhel8-ppc64le/xl-16.1.1-10/spectrum-mpi-10.4.0.3-20210112-dzedzfvocsuzkm4jkqe7o64x53yhq7nm
      - spec: spectrum-mpi@10.4.0.3
        modules:
        - spectrum-mpi/10.4.0.3-20210112
    openssh:
      externals:
      - spec: openssh@8.0p1
        prefix: /usr
    openssl:
      externals:
      - spec: openssl@1.1.1c
        prefix: /usr
    perl:
      externals:
      - spec: perl@5.26.3~cpanm+shared+threads
        prefix: /usr
    pkgconf:
      externals:
      - spec: pkgconf@1.4.2
        prefix: /usr
    rsync:
      externals:
      - spec: rsync@3.1.3
        prefix: /usr
    ruby:
      externals:
      - spec: ruby@2.5.5
        prefix: /usr
    sed:
      externals:
      - spec: sed@4.5
        prefix: /usr
    sqlite:
      externals:
      - spec: sqlite@3.26.0+fts~functions+rtree
        prefix: /usr
    tar:
      externals:
      - spec: tar@1.30
        prefix: /usr
    texinfo:
      externals:
      - spec: texinfo@6.5
        prefix: /usr
    xlc:
      externals:
      - spec: xlc@16.1~r
        prefix: /sw/summit/spack-envs/base/opt/linux-rhel8-ppc64le/xl-16.1.1-10/spectrum-mpi-10.4.0.3-20210112-dzedzfvocsuzkm4jkqe7o64x53yhq7nm
        extra_attributes:
          compilers:
            c: /sw/summit/spack-envs/base/opt/linux-rhel8-ppc64le/xl-16.1.1-10/spectrum-mpi-10.4.0.3-20210112-dzedzfvocsuzkm4jkqe7o64x53yhq7nm/bin/mpixlc
      - spec: xlc@16.1+r
        prefix: /sw/summit/xl/16.1.1-10/xlC/16.1.1
        extra_attributes:
          compilers:
            c: /sw/summit/xl/16.1.1-10/xlC/16.1.1/bin/xlc_r
            cxx: /sw/summit/xl/16.1.1-10/xlC/16.1.1/bin/xlc++_r
    xlf:
      externals:
      - spec: xlf@16.1~r
        prefix: /sw/summit/xl/16.1.1-10/xlf/16.1.1
        extra_attributes:
          compilers:
            fortran: /sw/summit/xl/16.1.1-10/xlf/16.1.1/bin/xlf
      - spec: xlf@16.1+r
        prefix: /sw/summit/xl/16.1.1-10/xlf/16.1.1
        extra_attributes:
          compilers:
            fortran: /sw/summit/xl/16.1.1-10/xlf/16.1.1/bin/xlf_r
    xz:
      externals:
      - spec: xz@5.2.4
        prefix: /usr
    all:
      providers:
        blas: [openblas]
        mpi: [spectrum-mpi]
    cmake:
      buildable: false
      externals:
      - spec: cmake@3.21.3
        modules:
        - cmake/3.21.3
    netlib-scalapack:
      buildable: false
      externals:
      - spec: netlib-scalapack@2.2.0
        modules:
        - netlib-scalapack/2.2.0
    openblas:
      buildable: false
      externals:
      - spec: openblas@0.3.5 threads=none
        modules:
        - openblas/0.3.5
      - spec: openblas@0.3.5 threads=openmp
        modules:
        - openblas/0.3.5-omp
      - spec: openblas@0.3.15 threads=openmp
        modules:
        - openblas/0.3.15-omp
      - spec: openblas@0.3.17 threads=openmp
        modules:
        - openblas/0.3.17-omp
      - spec: openblas@0.3.17
        modules:
        - openblas/0.3.17
